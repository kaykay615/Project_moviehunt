import{a as R}from"./chunk-5JY322DM.js";import{$ as T,A as C,B as M,F as S,W as b,X as P,Y as D,Z as O,_ as y,aa as F,ba as w,e as _,ea as j,f as o,fa as A,g as v,h as x,ha as N,i as c,j as d,k as e,l as t,m as g,p as u,q as n,r as p,s as f,t as h,x as I,z as E}from"./chunk-54ZWQT22.js";import"./chunk-Y2PDZ72K.js";import"./chunk-Z6NEOT2M.js";import"./chunk-MSMJJC2X.js";import"./chunk-53OGNGEH.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function H(i,a){i&1&&(e(0,"span"),n(1,", "),t())}function Y(i,a){if(i&1&&(e(0,"span"),n(1),c(2,H,2,0,"span",10),t()),i&2){let r=a.$implicit,l=a.index,m=u(2);o(),f(" ",r.name),o(),d("ngIf",l<m.getMainCast().length-1)}}function $(i,a){i&1&&g(0,"ion-icon",11)}function k(i,a){if(i&1&&(e(0,"div",4)(1,"ion-card"),g(2,"img",5),e(3,"ion-card-header")(4,"ion-card-title"),n(5),t()(),e(6,"ion-card-content")(7,"ion-item")(8,"ion-label"),n(9,"Dura\xE7\xE3o"),t(),e(10,"div"),n(11),t()(),e(12,"ion-item")(13,"ion-label"),n(14,"Dire\xE7\xE3o"),t(),e(15,"div"),n(16),t()(),e(17,"ion-item")(18,"ion-label"),n(19,"Produ\xE7\xE3o"),t(),e(20,"div"),n(21),t()(),e(22,"ion-item")(23,"ion-label"),n(24,"Elenco"),t(),e(25,"div"),c(26,Y,3,2,"span",6),t()(),e(27,"ion-item")(28,"ion-label"),n(29,"Avalia\xE7\xE3o"),t(),e(30,"div",7),c(31,$,1,0,"ion-icon",8),e(32,"span",9),n(33),t()()()()()()),i&2){let r=u();o(2),d("alt",I(r.movie.title))("src","https://image.tmdb.org/t/p/w300"+r.movie.poster_path,_),o(3),h("",r.movie.title," (",r.getYear(),")"),o(6),p(r.getRuntime()),o(5),p(r.getDirector()),o(5),p(r.getProduction()),o(5),d("ngForOf",r.getMainCast()),o(5),d("ngForOf",r.stars),o(2),f("",r.movie.vote_average,"/10")}}function z(i,a){i&1&&(e(0,"div",12),n(1,"Carregando..."),t())}var Q=(()=>{let a=class a{constructor(l,m){this.route=l,this.tmdb=m,this.movie=null,this.stars=[]}ngOnInit(){let l=Number(this.route.snapshot.paramMap.get("id"));l&&this.tmdb.getMovieDetails(l).subscribe(m=>{this.movie=m;let s=Math.round((this.movie.vote_average||0)/2);this.stars=Array.from({length:s})})}getYear(){return this.movie?.release_date?this.movie.release_date.split("-")[0]:""}getDirector(){return this.movie?.credits?.crew?.find(l=>l.job==="Director")?.name||""}getMainCast(){return this.movie?.credits?.cast?.slice(0,3)||[]}getProduction(){return this.movie?.production_companies?.[0]?.name||""}getRuntime(){return this.movie?.runtime?`${this.movie.runtime} min`:""}};a.\u0275fac=function(m){return new(m||a)(v(S),v(R))},a.\u0275cmp=x({type:a,selectors:[["app-movie-details"]],decls:7,vars:3,consts:[["color","black"],["fullscreen","",1,"movie-details"],["class","details-card",4,"ngIf"],["class","loading",4,"ngIf"],[1,"details-card"],[3,"src","alt"],[4,"ngFor","ngForOf"],[1,"stars"],["name","star",4,"ngFor","ngForOf"],[1,"rating"],[4,"ngIf"],["name","star"],[1,"loading"]],template:function(m,s){m&1&&(e(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n(3),t()()(),e(4,"ion-content",1),c(5,k,34,11,"div",2)(6,z,2,0,"div",3),t()),m&2&&(o(3),p((s.movie==null?null:s.movie.title)||"Detalhes"),o(2),d("ngIf",s.movie),o(),d("ngIf",!s.movie))},dependencies:[M,E,C,T,A,j,y,b,D,O,P,N,F,w],styles:[".movie-details[_ngcontent-%COMP%]{display:flex;justify-content:center}.details-card[_ngcontent-%COMP%]{width:95%;max-width:720px;margin-top:12px}.details-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:420px;object-fit:cover}.stars[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:gold;margin-right:2px}.rating[_ngcontent-%COMP%]{margin-left:8px}.loading[_ngcontent-%COMP%]{padding:24px;text-align:center}"]});let i=a;return i})();export{Q as MovieDetailsPage};
